!function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){"use strict";function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}a.r(e);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.chartData=e.chartdata||e.chartData||[],this.title=e.title||"",this.xTitle=e.xtitle||e.xTitle||"",this.yTitle=e.ytitle||e.yTitle||"",this.vTitle=e.vtitle||e.vTitle||"",this.nTitle=e.ntitle||e.nTitle||"",this.xUnit=e.xunit||e.xUnit||"",this.yUnit=e.yunit||e.yUnit||"",this.vUnit=e.vunit||e.vUnit||"",this.nUnit=e.nunit||e.nUnit||"",this.chartType=e.charttype||e.chartType||0,this.dataType=e.datatype||e.dataType||0}var e,a,i;return e=t,(a=[{key:"_setTooltipTitle",value:function(t,e){return'<div style="border-bottom: 1px solid rgba(255,255,255,.3); font-size: 18px;padding-bottom: 7px;margin-bottom: 7px">'+this.setVisibleName(t,e)+"</div>"}},{key:"_setBaseLegend",value:function(t,e){var a=this;return{data:e,type:"scroll",top:"8%",formatter:function(t){return a.setVisibleName(t,a.nUnit)},textStyle:{color:t.legendFontColor,fontSize:t.legendFontSize}}}},{key:"_setBaseAxis",value:function(t){return{nameTextStyle:{color:t.axisTitleFontColor,fontSize:t.axisTitleFontSize},axisLine:{lineStyle:{color:"#000"}},axisLabel:{interval:0,textStyle:{color:t.axisFontColor,fontSize:t.axisFontSize}}}}},{key:"setUnit",value:function(t){var e=new RegExp("^[-+]?[0-9]+(\\.[0-9]+)?$");return"number"==typeof t||e.test(t)?(t=parseFloat(t))>=1e8?parseFloat((t/1e8).toFixed(2))+"亿":t>=1e4?parseFloat((t/1e4).toFixed(2))+"万":parseFloat(t.toFixed(2))+"":t}},{key:"setTitle",value:function(t,e){return t&&e?t+"("+e+")":t&&!e?t:!t&&e?e:""}},{key:"yearOrMonth",value:function(t){return"月"==t||"年"==t}},{key:"setVisibleName",value:function(t,e){if(this.yearOrMonth(e)){var a=t.replace(/[^0-9]/g,"");return""!=a?t.replace(a,a+e):t}return t}},{key:"setxNameOmit",value:function(t){return this.yearOrMonth(this.xUnit)?this.setVisibleName(t,this.xUnit):t.length>5?t.slice(0,5)+"...":t}},{key:"round",value:function(t,e){return parseFloat(t.toFixed(e))}}])&&n(e.prototype,a),i&&n(e,i),t}();function r(t,e){var a=t.chartData,n=t.nUnit,i=t.xUnit,r=t.dataType;e=e||"normal";var o=[],l=[],s=[],u=[];"年"==n&&"月"!=i?(o=Enumerable.from(a).orderByDescending(function(t){return parseInt(t.y)}).select(function(t){return t.x}).distinct().toArray(),u=Enumerable.from(a).orderBy(function(t){return t.y}).select(function(t){return t.y}).distinct().toArray()):"年"==n&&"月"==i?(o=Enumerable.from(a).orderBy(function(t){return parseInt(t.x)}).select(function(t){return t.x}).distinct().toArray(),u=Enumerable.from(a).orderBy(function(t){return t.y}).select(function(t){return t.y}).distinct().toArray()):(o=Enumerable.from(a).select(function(t){return t.x}).distinct().toArray(),u=Enumerable.from(a).select(function(t){return t.y}).distinct().toArray());var c=function(t){var n=[];o.forEach(function(i){var r=a.filter(function(e){return e.x==i&&e.y==t});if("ex"==e){var o=Enumerable.from(a).where(function(t){return t.x==i}).sum(function(t){return t.value});o=o||1;var l=r.length>0?parseFloat((Enumerable.from(r).sum(function(t){return t.value})/o*100).toFixed(2)):"";n.push(l)}else if("ey"==e){var s=Enumerable.from(a).where(function(e){return e.y==t}).sum(function(t){return t.value});s=s||1;var u=r.length>0?parseFloat((Enumerable.from(r).sum(function(t){return t.value})/s*100).toFixed(2)):"";n.push(u)}else n.push(r.length>0?Enumerable.from(r).sum(function(t){return t.value}):"")}),l.push(n)};if(r){var h=Enumerable.from(a).sum(function(t){return t.value}),f=[],p=[],m=[];o.forEach(function(){m.push(0)}),u.forEach(function(t,n){Enumerable.from(a).where(function(e){return e.y==t}).sum(function(t){return t.value})/h<.01?(f.unshift(n),p.push(t),o.forEach(function(n,i){var r=a.filter(function(e){return e.x==n&&e.y==t});if("ex"==e){var o=Enumerable.from(a).where(function(t){return t.x==n}).sum(function(t){return t.value});o=o||1;var l=r.length>0?(Enumerable.from(r).sum(function(t){return t.value})/o*100).toFixed(2):0;m[i]+=parseFloat(l)}else if("ey"==e){var s=Enumerable.from(a).where(function(e){return e.y==t}).sum(function(t){return t.value});s=s||1;var u=r.length>0?(Enumerable.from(r).sum(function(t){return t.value})/s*100).toFixed(2):0;m[i]+=parseFloat(u)}else{var c=r.length>0?Enumerable.from(r).sum(function(t){return t.value}):0;m[i]+=parseFloat(c)}m[i]=parseFloat(m[i].toFixed(2))})):c(t)}),f.length>0&&(f.forEach(function(t){u.splice(t,1)}),u.push("其它"),l.push(m),p.forEach(function(t){var e=Enumerable.from(a).where(function(e){return e.y==t}).toArray();e=e.map(function(t){return{name:t.y,x:t.x,y:"其它",value:t.value}}),s=s.concat(e)}))}else u.forEach(function(t){c(t)});return{xdata:o,legenddata:u,vdata:l,extraChartData:s}}function o(t){return new RegExp("^[-+]?[0-9]+(\\.[0-9]+)?$").test(t)?parseFloat(t):t}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(Object.getOwnPropertyNames(t).length>0))return!1;var a={};for(var n in t)if(e.hasOwnProperty(n))if("object"==s(t[n])){var i=JSON.parse(JSON.stringify(t[n]));a[n]=l(i,e[n]),u(t[n],e[n])}else a[n]=e[n];else a[n]=t[n];for(var n in e)a.hasOwnProperty(n)||(a[n]=e[n]);return a}function c(t){if(!t)return[];for(var e=[],a=0;a<t[0].length;a++){for(var n=[],i=0;i<t.length;i++)n.push(t[i][a]);e.push(n)}return e}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(t){function e(t){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=p(this,m(e).call(this,t))).xdata=[],a.legenddata=[],a.vdata=[],a.extraChartData=[],a}var a,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,i),a=e,(n=[{key:"_init",value:function(t){var e=r(this,t);this.xdata=e.xdata,this.legenddata=e.legenddata,this.vdata=e.vdata,this.extraChartData=e.extraChartData}},{key:"_baseBarOption",value:function(t,e){return t.ifMobile?this._baseBarOption_mobile(t,e):this._baseBarOption_pc(t,e)}},{key:"_baseBarOption_pc",value:function(t,e){var a=this,n=this._setBaseAxis(t),i={name:this.setTitle(this.xTitle,this.xUnit),nameLocation:"end",type:"category",data:this.xdata,axisLabel:{interval:0,rotate:30,formatter:function(t){return a.setxNameOmit(t)}}},r={name:this.setTitle(this.yTitle,this.yUnit),type:"value",axisLabel:{formatter:function(t){return a.setUnit(t)}}},o={legend:this._setBaseLegend(t,this.legenddata),tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){for(var e=a._setTooltipTitle(t[0].name,a.xUnit),n=0;n<t.length;n++)-1!=t[n].seriesName.indexOf("增长率")?e+=t[n].seriesName+": "+t[n].value+"%</br>":e+=t[n].seriesName+": "+t[n].value+a.vUnit+"</br>";return e}},grid:{top:"20%",left:"2%",right:"6%",bottom:"0%",containLabel:!0},xAxis:[u(n,i)],yAxis:[u(n,r)],series:[]},l=105!=this.chartType&&113!=this.chartType?this.legenddata.length:1;if(this.xdata.length*l>20&&!this.yearOrMonth(this.xUnit)){var s=this.xdata.length>5&&l>10?4:parseInt(20/this.legenddata.length)-1;o.grid.bottom="5%",o.dataZoom=this._setDataZoom(t,s)}return o}},{key:"_baseBarOption_mobile",value:function(t,e){var a=this,n={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){var n=a._setTooltipTitle(t[0].name,a.xUnit);if(e)for(var i=0;i<t.length;i++)t[i].value>0&&(n+=t[i].seriesName+": "+t[i].value+"%</br>");else for(var r=0;r<t.length;r++)-1!=t[r].seriesName.indexOf("增长率")?n+=t[r].seriesName+": "+t[r].value+"%</br>":n+=t[r].seriesName+": "+t[r].value+a.vUnit+"</br>";return n}},grid:{top:"20%",left:"5%",right:"10%",bottom:"10%",containLabel:!0},xAxis:[{name:this.setTitle(this.xTitle,this.xUnit),nameTextStyle:{color:t.axisTitleFontColor,fontSize:t.axisTitleFontSize},nameLocation:"center",nameGap:25,type:"category",axisLine:{lineStyle:{color:"#000"}},data:this.xdata,axisLabel:{interval:0,rotate:0,formatter:function(t){return a.setxNameOmit(t)},textStyle:{color:t.axisFontColor,fontSize:t.axisFontSize}}}],yAxis:[{name:this.setTitle(this.yTitle,this.yUnit),nameTextStyle:{color:t.axisTitleFontColor,fontSize:t.axisTitleFontSize},type:"value",axisLine:{lineStyle:{color:"#000"}},axisLabel:{textStyle:{color:t.axisFontColor,fontSize:t.axisFontSize},formatter:function(t){return a.setUnit(t)}}}],series:[]};if(!this.yearOrMonth(this.xUnit)){var i=this.xdata.length>4?3:this.xdata.length-1;n.dataZoom=this._setDataZoom(t,i)}return n}},{key:"_setDataZoom",value:function(t,e){e=t.dataRange||e;var a={};return(a=t.ifMobile?{height:20,bottom:0}:{height:30,bottom:10,handleSize:"110%"}).show=!t.dataRange,a.startValue=0,a.endValue=e,[a,{type:"inside"}]}},{key:"_setLabelTop",value:function(t,e,a){var n=this;return e=e||"",{show:void 0!==a?a:!t.ifMobile,position:"top",fontSize:t.labelFontSize,fontWeight:t.labelFontWeight,color:t.labelFontColor,formatter:function(t){return n.setUnit(t.value)+e}}}},{key:"barNormal",value:function(t,e,a){var n=this;this._init(e);var i=[],r="ex"==e||"ey"==e;this.vdata.forEach(function(e,r){var o={name:n.legenddata[r],type:"bar",animation:t.animation,data:e,barMaxWidth:t.barMaxWidth,label:n._setLabelTop(t)};a&&0==r&&(o.markLine={animation:t.animation,lineStyle:{normal:{color:"#fc97af"}},label:{normal:{position:"start",formatter:function(t){return n.setUnit(t.value)}}},data:[{name:"平均值",type:"average"}]}),i.push(o)});var o=this._baseBarOption(t,r);return o.series=i,o}},{key:"barStack",value:function(t,e){var a=this;this._init(e);var n=[],i="ex"==e||"ey"==e;this.vdata.forEach(function(e,i){var r={name:a.legenddata[i],type:"bar",animation:t.animation,stack:"堆积",data:e,barMaxWidth:t.barMaxWidth,label:a._setLabelTop(t)};r.label.position=i%2?"left":"right",r.label.formatter=function(t){return"0.00"==t.value?"":t.value+"%"},n.push(r)});var r=this._baseBarOption(t,i);return r.series=n,i&&(r.yAxis[0].max=100),r}},{key:"barWithRate",value:function(t,e,a){var n=this;this._init(e);var i=[],r=[],o=[],l=a?c(this.vdata):this.vdata,s=[],u=this.legenddata.filter(function(t){return t.indexOf("(对比)")>-1}).length>0;this.legenddata.forEach(function(t){i.push(t),i.push(t+"增长率")}),l.forEach(function(t){var e=0,a=[];t.forEach(function(t){if(0!=e){var n=((t-e)/e*100).toFixed(2);a.push(parseFloat(n))}else a.push(0);e=t}),s.push(a)}),s=a?c(s):s,this.vdata.forEach(function(e,l){o.push(e);var u={name:i[2*l],type:"bar",animation:t.animation,data:e,barMaxWidth:t.barMaxWidth,itemStyle:{normal:{color:""}},label:n._setLabelTop(t)};if(r.push(u),o.push(s[l]),a)return!0;var c={name:i[2*l+1],type:"line",yAxisIndex:1,smooth:!0,animation:t.animation,data:s[l],label:0==a?n._setLabelTop(t,"%"):n._setLabelTop(t,"%",!1)};r.push(c)}),this.legenddata=a?this.legenddata:i;var h=this._baseBarOption(t,!1);return"end"==h.xAxis[0].nameLocation&&(h.xAxis[0].nameGap=40),a||(h.yAxis[1]={name:"增长率(%)",type:"value",axisLine:{lineStyle:{color:"#000"}},axisLabel:{textStyle:{color:"#000"}}}),h.series=r,u&&a||(this.legenddata=i,this.vdata=o),h}},{key:"barDynamic",value:function(t,e){var a=this;this._init();var n={},i=[],r=[];!function(){for(var t=0;t<a.vdata[0].length;t++){for(var e=0,n=0;n<a.vdata.length;n++){e+=a.vdata[n][t]?a.vdata[n][t]:0}r[t]=parseFloat(e.toFixed(2))}}(),this.vdata.forEach(function(t,n){var r={name:a.legenddata[n],type:"bar",animation:e.animation,smooth:!0,data:t,barMaxWidth:e.barMaxWidth,stack:"总量"};i.push(r)});var o={name:"总量",type:"line",animation:e.animation,data:r,lineStyle:{normal:{color:"none"}},label:this._setLabelTop(e),markLine:{animation:e.animation,lineStyle:{normal:{color:"#fc97af"}},label:{normal:{position:"start"}},data:[{name:"年平均",type:"average"}]}};i.push(o);var l=this._baseBarOption(e,!1);return l.series=i,t.on("legendselectchanged",function(e){n=e.selected;for(var i=0;i<a.vdata[0].length;i++){var o=0;for(var s in n)if(n[s]){var u=a.legenddata.indexOf(s);o+=a.vdata[u][i]}r[i]=parseFloat(o.toFixed(2))}t.setOption(l)}),l}},{key:"barAndLine",value:function(t){var e=this,a=[],n=[],i=[],r=this.chartData;this.xdata=Enumerable.from(r).select(function(t){return t.x}).distinct().toArray();var o=r.filter(function(t){return"BarChart"==t.name}),l=r.filter(function(t){return"LineChart"==t.name}),s=Enumerable.from(o).select(function(t){return t.y}).distinct().toArray(),u=Enumerable.from(l).select(function(t){return t.y}).distinct().toArray();s.forEach(function(t){var n=[];e.xdata.forEach(function(e){var a=Enumerable.from(o).where(function(a){return a.x==e&&a.y==t}).sum(function(t){return t.value});n.push(a)}),n.length>0&&a.push(n)}),u.forEach(function(t){var a=[];e.xdata.forEach(function(e){var n=Enumerable.from(l).where(function(a){return a.x==e&&a.y==t}).sum(function(t){return t.value});a.push(n)}),a.length>0&&n.push(a)}),a.forEach(function(a,n){var r={name:s[n],type:"bar",animation:t.animation,yAxisIndex:0,data:a,barMaxWidth:t.barMaxWidth,label:e._setLabelTop(t)};i.push(r)}),n.forEach(function(a,n){var r={name:u[n],type:"line",animation:t.animation,yAxisIndex:1,data:a,label:e._setLabelTop(t)};i.push(r)}),this.legenddata=s.concat(u),this.vdata=a.concat(n);var c=this._baseBarOption(t,!1);return c.xAxis[0].nameGap=40,c.yAxis[1]={name:this.xUnit,type:"value",axisLine:{lineStyle:{color:"#000"}},axisLabel:{textStyle:{color:"#000"},formatter:function(t){return e.setUnit(t)}}},c.series=i,c}},{key:"barNormalAndPer",value:function(t,e,a,n){var i=this,o=r(this),l=r(this,a);this.xdata=l.xdata,this.legenddata=l.legenddata;var s=o.vdata,u=l.vdata,c=this.legenddata,h=this.yUnit,f=this.vUnit,p=!0,m="ex"==a||"ey"==a,y=this._baseBarOption(e,m);y.toolbox={feature:{mySwitch:{show:!0,title:"原始&占比切换",icon:'path d="M830.6 732.8H287.3c-24.4 0-47.5-9.6-65-27-17.4-17.4-27-40.5-27-65V505.6l20.1 20.1c10.9 10.9 28.7 10.9 39.6 0 10.9-10.9 10.9-28.7 0-39.6l-66.5-66.5c-11.7-11.7-30.7-11.7-42.4 0l-66.5 66.5c-10.9 10.9-10.9 28.7 0 39.6 10.9 10.9 28.7 10.9 39.6 0l20.1-20.1v135.2c0 81.7 66.3 148 148 148h543.3c15.5 0 28-12.5 28-28 0-15.4-12.5-28-28-28zM946.3 499.1c-10.9-10.9-28.7-10.9-39.6 0l-20.1 20.1V387c0-81.7-66.3-148-148-148H195.3c-15.5 0-28 12.5-28 28s12.5 28 28 28h543.3c24.4 0 47.5 9.6 65 27 17.4 17.4 27 40.5 27 65v132.2l-20.1-20.1c-10.9-10.9-28.7-10.9-39.6 0-10.9 10.9-10.9 28.7 0 39.6l66.5 66.5c11.7 11.7 30.7 11.7 42.4 0l66.5-66.5c10.9-10.9 10.9-28.6 0-39.6z"',onclick:function(){p=!p,i.legenddata=c,i.yUnit=h,i.vUnit=f,b(!1),d(),t.setOption(y)}}}};var b=function(t){var a=[];i.vdata=[],u.forEach(function(n,r){var o={name:i.legenddata[r],type:"bar",animation:e.animation,data:p?n:s[r],barMaxWidth:e.barMaxWidth,label:i._setLabelTop(e)};t&&(i.vdata.push(s[r]),i.vdata.push(u[r])),a.push(o)}),y.series=a},d=function(){y.yAxis[0].name=p?i.setTitle(i.yTitle+"占比","%"):i.setTitle(i.yTitle,i.yUnit)};b(!0),d(),y.tooltip.formatter=function(t){for(var e=i._setTooltipTitle(t[0].name,i.xUnit),a=0;a<t.length;a++)-1!=t[a].seriesName.indexOf("增长率")?e+=t[a].seriesName+": "+t[a].value+"%</br>":e+=t[a].seriesName+": "+t[a].value+"</br>";return e};var v=[];return this.legenddata.forEach(function(t){v.push(i.setTitle(t,i.yUnit)),v.push(i.setTitle(t+"占比","%"))}),this.legenddata=v,this.yUnit="",this.vUnit="",y}}])&&f(a.prototype,n),o&&f(a,o),e}();function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O=function(t){function e(t){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=x(this,g(e).call(this,t))).legenddata=[],a}var a,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,i),a=e,(n=[{key:"_init",value:function(){var t,e=(t=this.chartData,{legenddata:Enumerable.from(t).select(function(t){return t.name}).toArray(),chartData:t=t.map(function(t){return{x:t.x,y:t.y,value:t.value,name:t.name||"未填"}})});this.legenddata=e.legenddata,this.chartData=e.chartData}},{key:"pie",value:function(t){this._init();var e=[],a={name:"占比",type:"pie",animation:t.animation,label:{normal:{show:t.pieLabelShow,formatter:"{b}({d}%)",fontSize:16}},radius:[t.innerRadius,t.outerRadius],center:[t.xCenter,t.yCenter],data:this.chartData};return e.push(a),{tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:e}}}])&&v(a.prototype,n),r&&v(a,r),e}();function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var k=function(t){function e(t){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=_(this,C(e).call(this,t))).xdata=[],a.legenddata=[],a.vdata=[],a}var a,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(e,i),a=e,(n=[{key:"_init",value:function(){var t,e,a,n,i=(t=this.chartData,e=Enumerable.from(t).select(function(t){return t.x}).distinct().toArray(),a=Enumerable.from(t).select(function(t){return t.y}).distinct().toArray(),n=[],a.forEach(function(a){var i=[];e.forEach(function(e){i.push(Enumerable.from(t).where(function(t){return t.x==e&&t.y==a}).sum(function(t){return t.value}))}),n.push(i)}),{xdata:e,legenddata:a,vdata:n});this.xdata=i.xdata,this.legenddata=i.legenddata,this.vdata=i.vdata}},{key:"_baseLineOption",value:function(){var t=this,e={legend:{data:this.legenddata,type:"scroll",top:"8%",formatter:function(e){return t.setVisibleName(e,t.nUnit)}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){for(var a=t._setTooltipTitle(e[0].name,t.xUnit),n=0;n<e.length;n++)a+=e[n].seriesName+":"+e[n].value+"("+t.vUnit+")</br>";return a}},grid:{top:"20%",left:"2%",right:"6%",bottom:"0%",containLabel:!0},xAxis:[{name:this.setTitle(this.xTitle,this.xUnit),type:"category",axisLine:{lineStyle:{color:"#000"}},data:this.xdata,axisLabel:{interval:0,rotate:30,formatter:function(e){return t.setxNameOmit(e)},textStyle:{color:"#000"}}}],yAxis:[{name:this.setTitle(this.yTitle,this.yUnit),type:"value",axisLine:{lineStyle:{color:"#000"}},axisLabel:{textStyle:{color:"#000"},formatter:function(e){return t.setUnit(e)}}}],series:[]};return this.xdata.length>12&&(e.grid.bottom="12%",e.dataZoom=[{show:!0,height:30,bottom:10,startValue:this.xdata[0],endValue:this.xdata[11],handleSize:"110%"},{type:"inside"}]),e}},{key:"_setLabelTop",value:function(t){var e=this;return{show:!0,position:"top",fontSize:t.labelFontSize,fontWeight:t.labelFontWeight,color:t.labelFontColor,formatter:function(t){return e.setUnit(t.value)}}}},{key:"line",value:function(t,e){var a=this;this._init();var n=[];this.vdata.forEach(function(i,r){var o={name:a.legenddata[r],type:"line",animation:e.animation,itemStyle:{normal:{}},data:i,label:a._setLabelTop(e)};t&&0==r&&(o.markLine={lineStyle:{normal:{color:"#fc97af"}},label:{normal:{position:"start",formatter:function(t){return a.setUnit(t.value)}}},data:[{name:"平均值",type:"average"}]}),n.push(o)});var i=this._baseLineOption();return i.series=n,i}}])&&T(a.prototype,n),r&&T(a,r),e}();function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function F(t,e){return!e||"object"!==j(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){function e(t){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=F(this,L(e).call(this,t))).legenddata=[],a.valueMax=0,a.valueMax=0,a.xMin=0,a.xMax=0,a.yMin=0,a.yMax=0,a.defaultSymbolSize=0,a}var a,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(e,i),a=e,(n=[{key:"_init",value:function(t){var e,a=(e=this.chartData,this.nUnit,{legenddata:Enumerable.from(e).select(function(t){return t.name}).toArray(),chartData:e=e.map(function(t){return{x:o(t.x),y:o(t.y),value:t.value,name:t.name,type:o(t.type)}}),valueMax:e.length>0?Enumerable.from(e).max(function(t){return t.value}):0,xMin:e.length>0?Enumerable.from(e).min(function(t){return t.x}):0,xMax:e.length>0?Enumerable.from(e).max(function(t){return t.x}):0,yMin:e.length>0?Enumerable.from(e).min(function(t){return t.y}):0,yMax:e.length>0?Enumerable.from(e).max(function(t){return t.y}):0});this.legenddata=a.legenddata,this.chartData=a.chartData,this.valueMax=a.valueMax,this.xMin=a.xMin,this.xMax=a.xMax,this.yMin=a.yMin,this.yMax=a.yMax,this.defaultSymbolSize=t.symbolSize}},{key:"_baseScatterOption",value:function(t){return t.ifMobile?this._baseScatterOption_mobile(t):this._baseScatterOption_pc(t)}},{key:"_baseScatterOption_pc",value:function(t){var e=this,a=this._setBaseAxis(t),n={name:this.setTitle(this.xTitle,this.xUnit),type:"value",scale:!0,splitLine:{show:!1},max:"%"!=this.xUnit?this.round(1.15*this.xMax,0):this.round(this.xMax+15,0),axisLabel:{formatter:function(t){return e.setUnit(t)}}},i={name:this.setTitle(this.yTitle,this.yUnit),type:"value",scale:!0,splitLine:{show:!1},max:"%"!=this.yUnit?this.round(1.15*this.yMax,0):this.round(this.yMax+15,0),axisLabel:{formatter:function(t){return e.setUnit(t)}}};return{legend:this._setBaseLegend(t,this.legenddata),tooltip:{trigger:"item",axisPointer:{show:!0,type:"cross",lineStyle:{type:"dashed",width:1}},formatter:function(t){if("series"==t.componentType){var a=e._setTooltipTitle(t.name,e.nUnit);return a+="<span>"+e.xTitle+": "+t.data.value[0]+e.xUnit+"</span><br/><span>"+e.yTitle+": "+t.data.value[1]+e.yUnit+"</span>",e.vTitle&&(a+="<br/><span>"+e.vTitle+": "+e.chartData.filter(function(e){return e.name==t.name})[0].value+e.vUnit+"</span>"),a}}},label:{normal:{show:!0,position:"bottom",formatter:function(t){return e.setVisibleName(t.name,e.nUnit)}},emphasis:{show:!0,position:"bottom"}},xAxis:[u(a,n)],yAxis:[u(a,i)],grid:{top:"20%",left:"2%",right:"6%",bottom:"6%",containLabel:!0}}}},{key:"_baseScatterOption_mobile",value:function(t){var e=this;return{tooltip:{trigger:"item",axisPointer:{show:!0,type:"cross",lineStyle:{type:"dashed",width:1}},formatter:function(t){if("series"==t.componentType){var a=e._setTooltipTitle(t.name,e.nUnit);return a+="<span>"+e.xTitle+": "+t.data.value[0]+e.xUnit+"</span><br/><span>"+e.yTitle+": "+t.data.value[1]+e.yUnit+"</span>",e.vTitle&&(a+="<br/><span>"+e.vTitle+": "+e.chartData.filter(function(e){return e.name==t.name})[0].value+e.vUnit+"</span>"),a}}},label:{normal:{show:!0,position:"bottom",formatter:function(t){return e.setVisibleName(t.name,e.nUnit)}},emphasis:{show:!0,position:"bottom"}},xAxis:{name:this.setTitle(this.xTitle,this.xUnit),nameLocation:"center",nameGap:25,type:"value",scale:!0,max:"%"!=this.xUnit?parseFloat(1.15*this.xMax):parseFloat(this.xMax+15),axisLine:{lineStyle:{color:"#000"}},axisLabel:{textStyle:{color:"#000"},formatter:function(t){return e.setUnit(t)}},splitLine:{show:!1}},yAxis:{name:this.setTitle(this.yTitle,this.yUnit),type:"value",scale:!0,max:"%"!=this.yUnit?parseFloat(1.15*this.yMax):parseFloat(this.yMax+15),axisLine:{lineStyle:{color:"#000"}},axisLabel:{textStyle:{color:"#000"},formatter:function(t){return e.setUnit(t)}},splitLine:{show:!1}},grid:{top:"20%",left:"4%",right:"6%",bottom:"10%",containLabel:!0}}}},{key:"_setItemSymbolSize",value:function(t){return this.valueMax?t/this.valueMax*this.defaultSymbolSize:this.defaultSymbolSize}},{key:"_setLabel",value:function(t){var e=this;return{show:!t.ifMobile,position:"top",fontSize:t.labelFontSize,fontWeight:t.labelFontWeight,color:t.labelFontColor,formatter:function(t){return e.setVisibleName(t.name,e.nUnit)}}}},{key:"scatter",value:function(t){var e=this;this._init(t);var a=[];this.chartData.forEach(function(n){if("平均值"==n.name){var i={name:n.name,type:"scatter",animation:t.animation,markLine:{animation:t.animation,label:{normal:{formatter:function(t){return t.name+": \n"+t.value}}},lineStyle:{normal:{type:"solid"}},data:[{name:e.xTitle+n.name,xAxis:n.x},{name:e.yTitle+n.name,yAxis:n.y}]}};a.push(i)}else{var r={name:n.name,type:"scatter",animation:t.animation,label:e._setLabel(t),data:[{name:n.name,value:[n.x,n.y],symbolSize:e._setItemSymbolSize(n.value)}]};a.push(r)}});var n=this._baseScatterOption(t);return n.series=a,n}},{key:"scatterSameColor",value:function(t){var e=this;this._init(t);var a=[],n=[];this.chartData.forEach(function(i){if("平均值"==i.name){var r={name:i.name,type:"scatter",animation:t.animation,data:[{name:i.name,value:[i.x,i.y],symbolSize:0}],markLine:{animation:t.animation,label:{normal:{formatter:function(t){return t.name+": \n"+t.value}}},lineStyle:{normal:{type:"solid"}},data:[{name:e.xTitle+i.name,xAxis:i.x},{name:e.yTitle+i.name,yAxis:i.y}]}};n.push(r)}else{var o={name:i.name,value:[i.x,i.y],symbolSize:e._setItemSymbolSize(i.value)};a.push(o)}});var i={name:"散点图",type:"scatter",animation:t.animation,label:this._setLabel(t),data:a};n.push(i);var r=this._baseScatterOption(t);return r.series=n,r}},{key:"scatterAutoAvg",value:function(t){var e=this;this._init(t);var a=[],n=[],i=this.chartData,r=Enumerable.from(i).sum(function(t){return parseFloat(t.x)})/i.length,o=Enumerable.from(i).sum(function(t){return parseFloat(t.y)})/i.length,l={name:"平均值",type:"scatter",animation:t.animation,markLine:{animation:t.animation,label:{normal:{formatter:function(t){return t.name+": \n"+t.value}}},lineStyle:{normal:{type:"solid"}},data:[{name:this.xTitle+"平均值",xAxis:r},{name:this.yTitle+"平均值",yAxis:o}]}};n.push(l),i.forEach(function(i){a.push(i.name);var r={name:i.name,type:"scatter",animation:t.animation,label:e._setLabel(t),data:[{name:i.name,value:[i.x,i.y],symbolSize:e._setItemSymbolSize(i.value)}]};n.push(r)});var s=this._baseScatterOption(t);return s.series=n,s}},{key:"scatterWithGroup",value:function(t){var e=this,a=t.scatterGroup;if(!(a.length>=2))return{};var n=a[0].name,i=a[0].type,r=a[1].name,o=a[1].type;if(!(n&&i&&r&&o))return{};this._init(t);var l=[],s=[],u=[],c=[];this.chartData.forEach(function(a){if(0==a.type||10==a.type){var n={name:a.name,type:"scatter",animation:t.animation,data:[{name:a.name,value:[a.x,a.y],symbolSize:0}],markLine:{animation:t.animation,label:{normal:{formatter:function(t){return t.name+": \n"+t.value}}},lineStyle:{normal:{type:"solid"}},data:[{name:a.name,xAxis:a.x},{name:a.name,yAxis:a.y}]}};s.push(n),l.push(a.name)}else{var r={name:a.name,value:[a.x,a.y],symbolSize:e._setItemSymbolSize(a.value)};a.type==i?u.push(r):a.type==o&&c.push(r)}}),function(){var a={name:n,type:"scatter",animation:t.animation,label:e._setLabel(t),data:u};s.push(a);var i={name:r,type:"scatter",animation:t.animation,label:e._setLabel(t),data:c};s.push(i)}();var h=this._baseScatterOption(t);return h.series=s,h}}])&&U(a.prototype,n),r&&U(a,r),e}();function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function D(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),D(this,N(e).apply(this,arguments))}var a,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(e,i),a=e,(n=[{key:"chinaMap",value:function(t){var e=[];this.chartData.forEach(function(a){var n={name:a.name,value:a.value,itemStyle:{areaColor:t.emphasisColor,borderColor:"#fff"},emphasis:{itemStyle:{areaColor:t.emphasisColor,borderColor:"#fff"}}};e.push(n)});var a=Enumerable.from(this.chartData).max(function(t){return t.value}),n=parseInt(parseInt(a/10)+1+"0"),i={tooltip:{trigger:"item",show:!0,formatter:function(t){return t.name+":"+(t.value||0)}},dataRange:{show:t.dataRangeShow,min:0,max:n,x:"left",y:"bottom",text:["多","少"],calculable:!0},series:[{name:"name",type:"map",mapType:"china",zoom:1.2,selectedMode:"single",label:{show:!0,fontSize:t.labelFontSize,color:"#000",formatter:function(t){return t.value?t.name+t.value:t.name}},itemStyle:{borderColor:"#ccc",areaColor:"#f3f3f3"},emphasis:{itemStyle:{borderColor:"#ccc",areaColor:"#f3f3f3"}},data:e}]};return t.rangeHighColor&&t.rangeLowColor&&(i.dataRange.color=[t.rangeHighColor,t.rangeLowColor]),i}}])&&P(a.prototype,n),r&&P(a,r),e}();function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function V(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var H=function(t){function e(t){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=V(this,Z(e).call(this,t))).xdata=[],a.legenddata=[],a.vdata=[],a}var a,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,i),a=e,(n=[{key:"_init",value:function(t){var e=r(this,t);this.xdata=e.xdata,this.legenddata=e.legenddata,this.vdata=e.vdata}},{key:"special01",value:function(){var t=this;this._init();var e=[],a=[],n=[];return this.vdata.forEach(function(a,i){var r={name:t.legenddata[i],type:"bar",xAxisIndex:0,yAxisIndex:0,itemStyle:{normal:{}},data:a,label:{normal:{show:!0,position:"top"}}};e.push(r);var o=0,l=[];a.forEach(function(t){0!=o?l.push(((t-o)/o*100).toFixed(2)):l.push(0),o=t}),n.push(l)}),n.forEach(function(e,n){var i={name:t.legenddata[n],type:"line",xAxisIndex:1,yAxisIndex:1,itemStyle:{normal:{}},data:e,label:{normal:{show:!0,position:"top"}}};a.push(i)}),{legend:{data:this.legenddata,type:"scroll",top:"10%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:[{top:"24%",left:"6%",right:"52%",bottom:"6%",containLabel:!0},{top:"24%",left:"52%",right:"6%",bottom:"6%",containLabel:!0}],xAxis:[{gridIndex:0,type:"category",axisLine:{lineStyle:{color:"#000"}},data:this.xdata,axisLabel:{interval:0,rotate:50,textStyle:{color:"#000"}}},{gridIndex:1,type:"category",axisLine:{lineStyle:{color:"#000"}},data:this.xdata,axisLabel:{interval:0,rotate:50,textStyle:{color:"#000"}}}],yAxis:[{gridIndex:0,name:"数量",type:"value",axisLine:{lineStyle:{color:"#000"}},axisLabel:{textStyle:{color:"#000"},formatter:function(e){return t.setUnit(e)}}},{gridIndex:1,name:"增长率",type:"value",axisLine:{lineStyle:{color:"#000"}},axisLabel:{textStyle:{color:"#000"},formatter:function(e){return t.setUnit(e)}}}],series:e.concat(a)}}},{key:"special02",value:function(){var t=this;this._init("ex");var e=[],a={normal:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"},emphasis:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"}},n={normal:{label:{show:!0,position:"insideLeft",formatter:"{c}%"}}};return this.vdata.forEach(function(i,r){var o={name:t.legenddata[r],type:"bar",stack:"总量",itemStyle:n,data:i};e.push(o);var l=i.map(function(t){return 100-t}),s={name:t.legenddata[r],type:"bar",stack:"总量",itemStyle:a,data:l};e.push(s)}),{tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){var e=t[0].axisValueLabel+"<br/>";return t.forEach(function(t){t.seriesIndex%2==0&&(e+=t.marker+t.seriesName+": "+t.value+"%<br/>")}),e}},legend:{data:this.legenddata,type:"scroll",top:"10%"},grid:{y:60,y2:20},xAxis:[{type:"value",position:"top",splitLine:{show:!1},axisLabel:{show:!1}}],yAxis:[{type:"category",splitLine:{show:!1},data:this.xdata}],series:e}}},{key:"special03",value:function(t){var e=this;this._init("ex");var a=this.xdata,n=[];a.forEach(function(t){0!=Enumerable.from(e.chartData).where(function(e){return e.x==t}).sum(function(t){return t.value})&&n.push(t)});var i=a.length,r=parseInt(100/(i+1)),o=[];n.forEach(function(n,i){var l=e.chartData.filter(function(t){return t.x==n}).map(function(t){return{name:t.y,value:t.value}}),s=r*(i+1)+"%",u={name:a[i],type:"pie",radius:"40%",center:[s,"55%"],data:l,label:{normal:{position:"outside",formatter:"{d}%",textStyle:{color:t.labelFontColor,fontSize:t.labelFontSize,fontWeight:t.labelFontWeight}}},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}};o.push(u)});var l=this._setBaseAxis(t),s={name:this.setTitle(this.xTitle,this.xUnit),nameLocation:"end",type:"category",data:n,axisLabel:{interval:0,rotate:30,formatter:function(t){return e.setxNameOmit(t)}}};return{tooltip:{trigger:"item",formatter:"{a} {b}: {c}"+this.vUnit+" ({d}%)",textStyle:{fontSize:14}},legend:this._setBaseLegend(t,this.legenddata),xAxis:[u(l,s)],yAxis:{gridIndex:0,name:"year",show:!1},series:o}}}])&&R(a.prototype,n),o&&R(a,o),e}();function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function q(t,e){return!e||"object"!==X(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Y=function(t){function e(t){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=q(this,K(e).call(this,t))).treeData=t.treedata||t.treeData||[],a}var a,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(e,i),a=e,(n=[{key:"tree2",value:function(t){var e=this;return{tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",data:[this.treeData],symbol:"emptyCircle",orient:"vertical",label:{normal:{position:"top",rotate:0,verticalAlign:"middle",align:"right",fontSize:t.labelFontSize,offset:[10,-20],formatter:function(t){var a=t.data;return a.value?a.name+":"+a.value+"("+e.vUnit+")":a.name+"("+e.vUnit+")"}}},leaves:{label:{normal:{position:"bottom",rotate:-90,verticalAlign:"middle",align:"left",fontSize:config.labelFontSize,offset:[0,5]}}},top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}]}}},{key:"tree",value:function(t){for(var e=this,a=this.treeData,n=0;n<a[0].children.length;n++)if(this.dataType&&a[0].children[n].children.length>0)for(var i=0;i<a[0].children[n].children.length;i++)a[0].children[n].children[i].children=tt(a[0].children[n].children[i].children);return{tooltip:{trigger:"item"},series:[{type:"tree",data:a,symbol:"emptyCircle",symbolSize:10,label:{normal:{position:"top",rotate:0,verticalAlign:"middle",align:"right",fontSize:t.labelFontSize,offset:[10,-20],formatter:function(t){var a=t.data;return a.value?a.name+":"+a.value+"("+e.vUnit+")":a.name+"("+e.vUnit+")"}}},leaves:{label:{normal:{position:"bottom",verticalAlign:"middle",align:"left",fontSize:t.labelFontSize,offset:[10,-10]}}},top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,expandAndCollapse:!0,initialTreeDepth:2,symbolKeepAspect:!0}]}}}])&&J(a.prototype,n),r&&J(a,r),e}();function tt(t){var e=Enumerable.from(t).sum(function(t){return t.value}),a=[],n=0;return t.forEach(function(t,i){parseFloat(t.value)/e<.01&&(a.unshift(i),n+=parseFloat(t.value))}),a.length>0&&(a.forEach(function(e){t.splice(e,1)}),t.push({name:"其它",value:n})),t.forEach(function(t,e){"其它"!=t.name&&t.children&&(t.children=tt(t.children))}),t}var et={ifMobile:!1,ifTitle:!1,ifToolBox:!0,ifDataZoom:!0,animation:!0,titleFontSize:18,titleFontColor:"#000",labelFontSize:16,labelFontWeight:"normal",labelFontColor:"auto",axisFontSize:13,axisFontColor:"#000",axisTitleFontSize:13,axisTitleFontColor:"#000",legendFontSize:13,legendFontColor:"#000",tooltipFontSize:14,tooltipFontColor:"#fff",barConfig:{barWidth:"30%",barMaxWidth:"25%",setLabelUnit:!1,dataRange:0},lineConfig:{},pieConfig:{pieLabelShow:!0,innerRadius:"0",outerRadius:"60%",xCenter:"50%",yCenter:"60%"},scatterConfig:{symbolSize:30,scatterGroup:[{name:"三级医院",type:3},{name:"二级医院",type:2}]},mapConfig:{dataRangeShow:!0,emphasisColor:"#349eea",rangeHighColor:"",rangeLowColor:""},treeConfig:{top:"10%",right:"10%",bottom:"10%",left:"15%",width:"50%",height:"400"}},at=["animation","titleFontSize","titleFontColor","labelFontSize","labelFontWeight","labelFontColor","axisFontSize","axisFontColor","axisTitleFontSize","axisTitleFontColor","legendFontSize","legendFontColor","tooltipFontSize","tooltipFontColor"];function nt(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var it=function(){function t(e,a,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.panelId=a,this.chartType=n,this.theme=i,this.echart={},this.chartObj={}}var e,a,n;return e=t,(a=[{key:"setOption",value:function(t){var e,a,n,i={},r=echarts.init(document.getElementById(this.panelId),this.theme);function o(e){at.forEach(function(a){e[a]=t[a]})}switch(t=t?u(et,t):et,this.chartType){case 98:o(t.treeConfig),this.chartObj=new Y(this.data),i=this.chartObj.tree(t.treeConfig);break;case 99:o(t.mapConfig),this.chartObj=new I(this.data),i=this.chartObj.chinaMap(t.mapConfig);break;case 101:o(t.barConfig),this.chartObj=new b(this.data),i=this.chartObj.barNormal(t.barConfig,"",!1);break;case 102:o(t.barConfig),this.chartObj=new b(this.data),i=this.chartObj.barWithRate(t.barConfig,"",!1);break;case 103:o(t.barConfig),this.chartObj=new b(this.data),i=this.chartObj.barAndLine(t.barConfig);break;case 104:o(t.barConfig),this.chartObj=new b(this.data),i=this.chartObj.barNormal(t.barConfig,"",!0);break;case 105:o(t.barConfig),this.chartObj=new b(this.data),i=this.chartObj.barStack(t.barConfig,"ex");break;case 106:o(t.barConfig),this.chartObj=new b(this.data),i=this.chartObj.barNormal(t.barConfig,"ex");break;case 107:o(t.barConfig),this.chartObj=new b(this.data),i=this.chartObj.barNormal(t.barConfig,"ey");break;case 108:o(t.barConfig),this.chartObj=new b(this.data),i=this.chartObj.barWithRate(t.barConfig,"ey",!0);break;case 109:o(t.barConfig),this.chartObj=new b(this.data),i=this.chartObj.barWithRate(t.barConfig,"",!0);break;case 110:o(t.barConfig),this.chartObj=new b(this.data),i=this.chartObj.barStack(t.barConfig,"");break;case 111:o(t.barConfig),this.chartObj=new b(this.data),i=this.chartObj.barNormalAndPer(r,t.barConfig,"ey");break;case 113:o(t.barConfig),this.chartObj=new b(this.data),i=this.chartObj.barDynamic(r,t.barConfig);break;case 201:o(t.pieConfig),this.chartObj=new O(this.data),i=this.chartObj.pie(t.pieConfig);break;case 202:o(t.pieConfig),t=u(et,{pieConfig:{innerRadius:"30%",outerRadius:"60%"}}),this.chartObj=new O(this.data),i=this.chartObj.pie(t.pieConfig);break;case 301:o(t.lineConfig),this.chartObj=new k(this.data),i=this.chartObj.line(!1,t.lineConfig);break;case 302:o(t.lineConfig),this.chartObj=new k(this.data),i=this.chartObj.line(!0,t.lineConfig);break;case 401:o(t.scatterConfig),this.chartObj=new A(this.data),i=this.chartObj.scatter(t.scatterConfig);break;case 402:o(t.scatterConfig),this.chartObj=new A(this.data),i=this.chartObj.scatterSameColor(t.scatterConfig);break;case 403:o(t.scatterConfig),this.chartObj=new A(this.data),i=this.chartObj.scatterAutoAvg(t.scatterConfig);break;case 404:o(t.scatterConfig),this.chartObj=new A(this.data),i=this.chartObj.scatterWithGroup(t.scatterConfig);break;case 991:this.chartObj=new H(this.data),i=this.chartObj.special01(t);break;case 992:this.chartObj=new H(this.data),i=this.chartObj.special02(t);break;case 993:o(t.pieConfig),this.chartObj=new H(this.data),i=this.chartObj.special03(t.pieConfig);break;default:i={}}return 1==t.ifTitle&&(i.title=function(t,e){return{text:t,right:"center",textStyle:{fontSize:e.titleFontSize}}}(this.data.title,t)),1==t.ifToolBox&&(i.hasOwnProperty("toolbox")||(i.toolbox={}),i.toolbox=u((e=this.data,a=this.panelId,{right:24,feature:{saveAsImage:{show:!0,title:"下载图片",backgroundColor:"#ffffff"},myDownload:{show:!0,title:"下载报表",icon:"path://M438.0166 0h208.33132v63.541053h384.892114v833.32528h-386.454598v126.040448H520.8283a755.201035 755.201035 0 0 1-81.249215 0c-58.853598-6.770768-117.186368-15.624849-175.519137-23.958101l-192.185643-27.083072L0 958.324072V63.020224L190.10233 36.457981l192.706471-27.083072z m527.599068 829.679482V129.165418h-319.267748v63.020225h61.978568v64.061881h-62.499396v63.020224h62.499396v65.624366h-62.499396v62.499396h62.499396v64.582709h-62.499396V572.91113h62.499396v65.103538h-62.499396v65.103537h62.499396v64.061881h-61.978568v62.499396zM128.123762 266.66409l5.208283 11.458222c35.416324 72.915962 71.353477 145.831924 107.29063 218.747886a25.520587 25.520587 0 0 1 0 26.562244l-117.186368 215.622916-5.729111 10.937394H216.143745a14.583192 14.583192 0 0 0 16.145677-10.416566c24.47893-56.249456 48.95786-112.498913 73.957618-168.748369v-5.208283c27.083072 61.457739 52.08283 122.915479 81.249215 184.894046a16.145677 16.145677 0 0 0 16.145678 11.458223l79.165901 4.687455h29.687213l-4.687454-9.895738q-63.020224-117.707196-127.602934-239.581018a22.395617 22.395617 0 0 1 0-23.437274q62.499396-117.707196 123.957135-236.456048l5.729112-11.458222h-21.353961l-81.249214 4.687454a14.583192 14.583192 0 0 0-14.583193 9.895738L329.163486 404.683589c-5.729111 13.020708-11.458223 26.562243-17.187334 41.145436l-4.687455-9.895738-60.936911-156.24849C238.539361 260.41415 238.539361 260.41415 216.664573 260.41415H208.33132z",onclick:function(){var t=$("#"+a).parents(".chart_item").find(".su_table");!function(t,e){var a=XLSX.utils.table_to_book(t),n=XLSX.write(a,{bookType:"xlsx",bookSST:!0,type:"array"});try{e=e||"表格",saveAs(new Blob([n],{type:"application/octet-stream"}),e+".xlsx")}catch(t){"undefined"!=typeof console&&console.log(t,n)}}($(t)[0],e.title)}}}}),i.toolbox)),0==t.ifDataZoom&&(n=i).hasOwnProperty("dataZoom")&&delete n.dataZoom,i}},{key:"drawChart",value:function(t){var e=this;this.echart=echarts.init(document.getElementById(this.panelId),this.theme);var a=this.setOption(t);return this.echart.setOption(a),window.addEventListener("resize",function(){e.echart.resize()}),this}},{key:"bind",value:function(t){this.echart.on("click",function(e){console.log(e),t(e.seriesIndex,e.seriesName)})}}])&&nt(e.prototype,a),n&&nt(e,n),t}();function rt(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ot=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.copydata=JSON.parse(JSON.stringify(e)),this.xdata=this.copydata.xdata||[],this.vdata=this.copydata.vdata||[],this.xTitle=this.copydata.xTitle||"",this.yTitle=this.copydata.yTitle||"",this.vTitle=this.copydata.vTitle||"",this.nTitle=this.copydata.nTitle||"",this.xUnit=this.copydata.xUnit||"",this.yUnit=this.copydata.yUnit||"",this.vUnit=this.copydata.vUnit||"",this.nUnit=this.copydata.nUnit||"",this.chartType=this.copydata.chartType||0,this.legenddata=this.copydata.legenddata||[],this.chartData=this.copydata.chartData||[]}var e,a,n;return e=t,(a=[{key:"_init",value:function(){var t=this;lt(this.nUnit)&&(this.legenddata=this.legenddata.map(function(e){return ut(e,t.nUnit)}))}},{key:"make3DTable",value:function(){var t=this;this._init();var e=this.legenddata,a=lt(this.xUnit)?this.xdata.map(function(e){return ut(e,t.xUnit)}):this.xdata;return a.unshift(""),a.forEach(function(e,n){0!=n&&(a[n]=e+st(t.xUnit))}),this.vdata.forEach(function(a,n){var i=e[n]||"",r=-1!=i.toString().indexOf("增长率")?i+st("%"):i+st(t.vUnit||t.yUnit);a.unshift(r)}),{thead:a,tbody:this.vdata,tableArr:[a].concat(this.vdata),tabledata:ct(a,this.vdata)}}},{key:"make2DTable",value:function(){var t="%"==this.vUnit,e=0,a=[];t&&(e=Enumerable.from(this.chartData).sum(function(t){return t.value})),this.chartData.forEach(function(n){var i=t?[n.name,(n.value/e*100).toFixed(2)]:[n.name,n.value];a.push(i)});var n=[this.nTitle||"名称",this.vTitle+st(this.vUnit)];return{thead:n,tbody:a,tableArr:[n].concat(a),tabledata:this.chartData}}},{key:"make4DTable",value:function(){var t=this,e=[],a=this.xUnit,n=this.yUnit,i=this.vUnit,r=["",0,0,0];this.chartData.forEach(function(a){var n=[],i=ut(a.name,t.nUnit);if(n=t.vTitle?[i,a.x,a.y,a.value]:[i,a.x,a.y],e.push(n),lt(t.nUnit)){for(var o=[],l=0;l<n.length;l++)if(0==l)o.push(n[l]+"增长率");else{if(0==r[l])o.push(0);else{var s=((n[l]-r[l])/r[l]*100).toFixed(2);o.push(parseFloat(s)+"%")}r[l]=n[l]}e.push(o)}});var o=this.vTitle?[this.nTitle,this.xTitle+st(a),this.yTitle+st(n),this.vTitle+st(i)]:[this.nTitle,this.xTitle+st(a),this.yTitle+st(n)];return{thead:o,tbody:e,tableArr:[o].concat(e),tabledata:ct(o,e)}}},{key:"make3DTableNU",value:function(){this._init();var t=this.legenddata,e=this.xdata.map(function(t){return t.replace(",","，")});return e.unshift(""),this.vdata.forEach(function(e,a){e.unshift(t[a])}),{thead:e,tbody:this.vdata,tableArr:[e].concat(this.vdata),tabledata:ct(e,this.vdata)}}},{key:"make4DTableNU",value:function(){var t=this,e=[],a=["",0,0,0];this.chartData.forEach(function(n){var i=[],r=lt(t.nUnit)?n.name+t.nUnit:n.name;if(i=t.vTitle?[r,n.x,n.y,n.value]:[r,n.x,n.y],e.push(i),lt(t.nUnit)){for(var o=[],l=0;l<i.length;l++)if(0==l)o.push(i[l]+"增长率");else{if(0==a[l])o.push(0);else{var s=((i[l]-a[l])/a[l]*100).toFixed(2);o.push(parseFloat(s))}a[l]=i[l]}e.push(o)}});var n=this.vTitle?[this.nTitle,this.xTitle,this.yTitle,this.vTitle]:[this.nTitle,this.xTitle,this.yTitle];return{thead:n,tbody:e,tableArr:[n].concat(e),tabledata:ct(n,e)}}}])&&rt(e.prototype,a),n&&rt(e,n),t}();function lt(t){return"月"==t||"年"==t}function st(t){return t&&!lt(t)?"("+t+")":""}function ut(t,e){if(lt(e)){var a=t.replace(/[^0-9]/g,"");return t.replace(a,a+e)}return t}function ct(t,e){var a=[];a.push(t),e.forEach(function(t){a.push(t)});for(var n=[],i=1;i<a[0].length;i++)for(var r=1;r<a.length;r++)n.push({x:a[0][i],y:a[r][0],value:a[r][i]});return n}a.d(e,"SuCharts",function(){return it}),a.d(e,"Table",function(){return ot}),window.SuCharts=it,window.Table=ot}]);